<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3 Demo: GeoJSON</title>
		<script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
		<style type="text/css">
			/* No style rules here yet */		
		</style>
	</head>
	<body>
		<script type="text/javascript">

			//Width and height
			var w = 1000;
			var h = 800;
			var svg = d3.select("body")
						.append("svg")
						.attr("width", w)
						.attr("height", h);
			//define projection
			var mnProjection = d3.geo.transverseMercator().rotate([93, -45]).center([0, 0]);
			//mnProjection.rotate([94, 7.5, 0]).parallels([39.5, 55.5]);
			//mnProjection.center([-100, 0]);
			var thePaths = d3.geo.path().projection(mnProjection);
			
			d3.json("ne_10m_admin_1_states_provinces_lakes_geojson.json", function(json) {
						var mn = json.features.filter(function(d) {
								return d.properties.NAME_1 ==  "Minnesota";
								});
						mnProjection.scale(1).translate([0,0]);
						//mnProjection.rotate([0, 1, 0]);
						var b = thePaths.bounds(mn[0]),
							s = .95 / Math.max((b[1][0] - b[0][0]) / w, (b[1][1] - b[0][1]) / h),
							t = [(w - s * (b[1][0] + b[0][0])) / 2, (h - s * (b[1][1] + b[0][1])) / 2];
						
						mnProjection.scale(s).translate(t);
						
						svg.selectAll("path")
					   .data(mn)
					   .enter()
					   .append("path")
					   .attr("d", thePaths)
					   .style("fill", "none")
					   .style("stroke", "blue");
			});
			
		</script>
	</body>
</html>